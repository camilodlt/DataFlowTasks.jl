<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>References · DataFlowTasks.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://maltezfaria.github.io/DataFlowTasks.jl/references/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DataFlowTasks.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Getting started</a></li><li><a class="tocitem" href="../profiling/">Debugging &amp; Profiling</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/cholesky/cholesky/">Tiled Cholesky Factorization</a></li><li><a class="tocitem" href="../examples/stencil/stencil/">Iterative Stencil Loop</a></li><li><a class="tocitem" href="../examples/lu/lu/">Tiled LU factorization</a></li><li><a class="tocitem" href="../examples/hmat/hmat/">Hierarchical <code>LU</code> factorization</a></li></ul></li><li><a class="tocitem" href="../issues/">Common Issues</a></li><li class="is-active"><a class="tocitem" href>References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>References</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>References</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/main/docs/src/references.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="references-section"><a class="docs-heading-anchor" href="#references-section">References</a><a id="references-section-1"></a><a class="docs-heading-anchor-permalink" href="#references-section" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.DataFlowTasks" href="#DataFlowTasks.DataFlowTasks"><code>DataFlowTasks.DataFlowTasks</code></a> — <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia hljs">moduel DataFlowTask</code></pre><p>Create <code>Task</code>s wich keep track of how data flows through it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/DataFlowTasks.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.LOGGER" href="#DataFlowTasks.LOGGER"><code>DataFlowTasks.LOGGER</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">const LOGGER::Ref{Logger}</code></pre><p>Global <code>Logger</code> being used to record the events. Can be changed using <a href="#DataFlowTasks.setlogger!-Tuple{DataFlowTasks.Logger}"><code>setlogger!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/logger.jl#L96-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.SCHEDULER" href="#DataFlowTasks.SCHEDULER"><code>DataFlowTasks.SCHEDULER</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">const SCHEDULER::Ref{TaskGraphScheduler}</code></pre><p>The active scheduler being used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L73-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.TASKCOUNTER" href="#DataFlowTasks.TASKCOUNTER"><code>DataFlowTasks.TASKCOUNTER</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">const TASKCOUNTER::Ref{Int}</code></pre><p>Global counter of created <code>DataFlowTask</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dataflowtask.jl#L59-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.AccessMode" href="#DataFlowTasks.AccessMode"><code>DataFlowTasks.AccessMode</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">@enum AccessMode READ WRITE READWRITE</code></pre><p>Describe how a <code>DataFlowTask</code> access its <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/DataFlowTasks.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.DAG" href="#DataFlowTasks.DAG"><code>DataFlowTasks.DAG</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct DAG{T}</code></pre><p>Representation of a directed acyclic graph containing nodes of type <code>T</code>. The list of nodes with edges coming into a node <code>i</code> can be retrieved using <a href="#DataFlowTasks.inneighbors-Tuple{DataFlowTasks.DAG, Any}"><code>inneighbors(dag,i)</code></a>; similarly, the list of nodes with edges leaving from <code>i</code> can be retrieved using <a href="#DataFlowTasks.outneighbors-Tuple{DataFlowTasks.DAG, Any}"><code>outneighbors(dag,i)</code></a>.</p><p><code>DAG</code> is a buffered structure with a buffer of size <code>sz_max</code>: calling <a href="#DataFlowTasks.addnode!-Union{Tuple{T}, Tuple{DataFlowTasks.DAG{T}, T}, Tuple{DataFlowTasks.DAG{T}, T, Any}} where T"><code>addnode!</code></a> on it will block if the <code>DAG</code> has more than <code>sz_max</code> elements.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.DAG-Union{Tuple{}, Tuple{Any}, Tuple{T}} where T" href="#DataFlowTasks.DAG-Union{Tuple{}, Tuple{Any}, Tuple{T}} where T"><code>DataFlowTasks.DAG</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DAG{T}(sz)</code></pre><p>Create a buffered <code>DAG</code> holding a maximum of <code>s</code> nodes of type <code>T</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.DataFlowTask" href="#DataFlowTasks.DataFlowTask"><code>DataFlowTasks.DataFlowTask</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DataFlowTask(func,data,mode)</code></pre><p>Create a task-like object similar to <code>Task(func)</code> which accesses <code>data</code> with <a href="#DataFlowTasks.AccessMode"><code>AccessMode</code></a> <code>mode</code>.</p><p>When a <code>DataFlowTask</code> is created, the elements in its <code>data</code> field will be checked against all other active <code>DataFlowTask</code> to determined if a dependency is present based on a data-flow analysis. The resulting <code>Task</code> will then wait on those dependencies.</p><p>A <code>DataFlowTask</code> behaves much like a Julia <code>Task</code>: you can call <code>wait(t)</code>, <code>schedule(t)</code> and <code>fetch(t)</code> on it.</p><p><strong>See also: <a href="#DataFlowTasks.@dtask-Tuple{Any, Vararg{Any}}"><code>@dtask</code></a>, <a href="#DataFlowTasks.@dspawn-Tuple{Any, Vararg{Any}}"><code>@dspawn</code></a>, <a href="#DataFlowTasks.@dasync-Tuple{Any, Vararg{Any}}"><code>@dasync</code></a>.</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dataflowtask.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.FinishedChannel" href="#DataFlowTasks.FinishedChannel"><code>DataFlowTasks.FinishedChannel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct FinishedChannel{T} &lt;: AbstractChannel{T}</code></pre><p>Used to store tasks which have been completed, but not yet removed from the underlying <code>DAG</code>. Taking from an empty <code>FinishedChannel</code> will block.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.InsertionLog" href="#DataFlowTasks.InsertionLog"><code>DataFlowTasks.InsertionLog</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct InsertionLog</code></pre><p>Logs the execution trace of a <a href="#DataFlowTasks.DataFlowTask"><code>DataFlowTask</code></a> insertion.</p><p><strong>Fields:</strong></p><ul><li><code>time_start</code>  : time the insertion began</li><li><code>time_finish</code> : time the insertion finished</li><li><code>taskid</code>      : the thread it is inserting</li><li><code>tid</code>         : the thread on wich the insertion is happening</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/logger.jl#L23-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.JuliaScheduler" href="#DataFlowTasks.JuliaScheduler"><code>DataFlowTasks.JuliaScheduler</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct JuliaScheduler{T} &lt;: TaskGraphScheduler{T}</code></pre><p>Implement a simple scheduling strategy which consists of delegating the <a href="#DataFlowTasks.DataFlowTask"><code>DataFlowTask</code></a>s to the native Julia scheduler for execution immediately after the data dependencies have been analyzed using its <code>dag::DAG</code>. This is the default scheduler used by <a href="#DataFlowTasks.DataFlowTasks"><code>DataFlowTasks</code></a>.</p><p>The main advantage of this strategy is its simplicity and composability. The main disadvantage is that there is little control over how the underlying <code>Task</code>s are executed by the Julia scheduler (e.g., no priorities can be passed).</p><p>Calling <code>JuliaScheduler(sz)</code> creates a new scheduler with an empty <code>DAG</code> of maximum capacity <code>sz</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L126-L140">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.Logger" href="#DataFlowTasks.Logger"><code>DataFlowTasks.Logger</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Logger</code></pre><p>Contains informations on the program&#39;s progress. For thread-safety, the <code>Logger</code> structure uses one vector of <a href="#DataFlowTasks.TaskLog"><code>TaskLog</code></a> per thread.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/logger.jl#L43-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.PriorityScheduler" href="#DataFlowTasks.PriorityScheduler"><code>DataFlowTasks.PriorityScheduler</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct PriorityScheduler{T} &lt;: TaskGraphScheduler{T}</code></pre><p>Execute a <code>DAG</code> by spawning workers that take elements from the <code>runnable</code> channel, execute them, and put them into a <code>finished</code> channel to be processed by a <code>dag_worker</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/otherschedulers.jl#L107-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.RunnableChannel" href="#DataFlowTasks.RunnableChannel"><code>DataFlowTasks.RunnableChannel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct RunnableChannel &lt;: AbstractChannel{DataFlowTask}</code></pre><p>Used to store tasks which have been tagged as dependency-free, and thus can be executed. The underlying data is stored using a priority queue, with elements with a high priority being popped first.</p><p>Calling <code>take</code> on an empty <code>RunnableChannel</code> will block.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/otherschedulers.jl#L6-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.StaticScheduler" href="#DataFlowTasks.StaticScheduler"><code>DataFlowTasks.StaticScheduler</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">StaticScheduler{T} &lt;: TaskGraphScheduler{T}</code></pre><p>Like the <a href="#DataFlowTasks.JuliaScheduler"><code>JuliaScheduler</code></a>, but requires an explicit call to <a href="#DataFlowTasks.execute_dag-Tuple{DataFlowTasks.StaticScheduler}"><code>execute_dag(ex)</code></a> to start running the nodes in its <code>dag</code> (and removing them as they are completed).</p><p>Using a <code>StaticScheduler</code> is useful if you wish examine the underling <code>TaskGraph</code> before it is executed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/otherschedulers.jl#L53-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.Stop" href="#DataFlowTasks.Stop"><code>DataFlowTasks.Stop</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Stop</code></pre><p>Singleton type used to safely interrupt a task reading from an `AbstractChannel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L48-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.TaskGraph" href="#DataFlowTasks.TaskGraph"><code>DataFlowTasks.TaskGraph</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">const TaskGraph = DAG{DataFlowTask}</code></pre><p>A directed acyclic graph of <code>DataFlowTask</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.TaskGraphScheduler" href="#DataFlowTasks.TaskGraphScheduler"><code>DataFlowTasks.TaskGraphScheduler</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type TaskGraphScheduler</code></pre><p>Structures implementing a strategy to evaluate a <a href="#DataFlowTasks.DAG"><code>DAG</code></a>.</p><p>Concrete subtypes are expected to contain a <code>dag::DAG</code> field for storing the task graph, and a <code>finished::AbstractChannel</code> field to keep track of completed tasks. The interface requires the following methods:</p><p>-<code>spawn(t,sch)</code> -<code>schedule(t,sch)</code></p><p><strong>See also: <a href="#DataFlowTasks.JuliaScheduler"><code>JuliaScheduler</code></a>, <a href="#DataFlowTasks.PriorityScheduler"><code>PriorityScheduler</code></a>, <a href="#DataFlowTasks.StaticScheduler"><code>StaticScheduler</code></a></strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L57-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.TaskLog" href="#DataFlowTasks.TaskLog"><code>DataFlowTasks.TaskLog</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct TaskLog</code></pre><p>Logs the execution trace of a <a href="#DataFlowTasks.DataFlowTask"><code>DataFlowTask</code></a>.</p><p><strong>Fields:</strong></p><ul><li><code>tag</code>         : task id in DAG</li><li><code>time_start</code>  : time the task started running</li><li><code>time_finish</code> : time the task finished running</li><li><code>tid</code>         : thread on wich the task ran</li><li><code>inneighbors</code> : vector of incoming neighbors in DAG</li><li><code>label</code>       : a string used for displaying and/or postprocessing tasks</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/logger.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.access_mode-Tuple{DataFlowTasks.DataFlowTask}" href="#DataFlowTasks.access_mode-Tuple{DataFlowTasks.DataFlowTask}"><code>DataFlowTasks.access_mode</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">access_mode(t::DataFlowTask[,i])</code></pre><p>How <code>t</code> accesses its data.</p><p><strong>See: <a href="#DataFlowTasks.AccessMode"><code>AccessMode</code></a></strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dataflowtask.jl#L83-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.addedge!-Union{Tuple{T}, Tuple{DataFlowTasks.DAG{T}, T, T}} where T" href="#DataFlowTasks.addedge!-Union{Tuple{T}, Tuple{DataFlowTasks.DAG{T}, T, T}} where T"><code>DataFlowTasks.addedge!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">addedge!(dag,i,j)</code></pre><p>Add (directed) edge connecting node <code>i</code> to node <code>j</code> in the <code>dag</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L103-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.addedge_transitive!-Tuple{Any, Any, Any}" href="#DataFlowTasks.addedge_transitive!-Tuple{Any, Any, Any}"><code>DataFlowTasks.addedge_transitive!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">addedge_transitive!(dag,i,j)</code></pre><p>Add edge connecting nodes <code>i</code> and <code>j</code> if there is no path connecting them already.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L205-L209">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.addnode!-Union{Tuple{T}, Tuple{DataFlowTasks.DAG{T}, T}, Tuple{DataFlowTasks.DAG{T}, T, Any}} where T" href="#DataFlowTasks.addnode!-Union{Tuple{T}, Tuple{DataFlowTasks.DAG{T}, T}, Tuple{DataFlowTasks.DAG{T}, T, Any}} where T"><code>DataFlowTasks.addnode!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">addnode!(dag,(k,v)::Pair[, check=false])
addnode!(dag,k[, check=false])</code></pre><p>Add a node to the <code>dag</code>. If passed only a key <code>k</code>, the value <code>v</code> is initialized as empty (no edges added). The <code>check</code> flag is used to indicate if a data flow analysis should be performed to update the dependencies of the newly inserted node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L115-L123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.adjacency_matrix-Union{Tuple{DataFlowTasks.DAG{T}}, Tuple{T}} where T" href="#DataFlowTasks.adjacency_matrix-Union{Tuple{DataFlowTasks.DAG{T}}, Tuple{T}} where T"><code>DataFlowTasks.adjacency_matrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">adjacency_matrix(dag)</code></pre><p>Construct the adjacency matrix of <code>dag</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L264-L268">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.consume_runnable" href="#DataFlowTasks.consume_runnable"><code>DataFlowTasks.consume_runnable</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">consume_runnable(runnable,nt,background=false)</code></pre><p>Spawn <code>nt = Threads.nthreads()</code> workers that will consume tasks from <code>runnable</code> and execute them. If <code>background=true</code> the main thread (<code>Threads.threadid()==1</code>) is not used, and only <code>nt-1</code> <code>tasks</code> are spawned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/otherschedulers.jl#L168-L174">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.criticalpath" href="#DataFlowTasks.criticalpath"><code>DataFlowTasks.criticalpath</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">criticalpath(logger) --&gt; path</code></pre><p>Finds the critical path of the logger&#39;s DAG</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/logger.jl#L109-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.dagplot" href="#DataFlowTasks.dagplot"><code>DataFlowTasks.dagplot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dagplot(logger=getlogger())</code></pre><p>Plot the dag in DOT format</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/plotdag.jl#L5-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.data-Tuple{DataFlowTasks.DataFlowTask}" href="#DataFlowTasks.data-Tuple{DataFlowTasks.DataFlowTask}"><code>DataFlowTasks.data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">data(t::DataFlowTask[,i])</code></pre><p>Data accessed by <code>t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dataflowtask.jl#L75-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.data_dependency-Tuple{DataFlowTasks.DataFlowTask, DataFlowTasks.DataFlowTask}" href="#DataFlowTasks.data_dependency-Tuple{DataFlowTasks.DataFlowTask, DataFlowTasks.DataFlowTask}"><code>DataFlowTasks.data_dependency</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">data_dependency(t1::DataFlowTask,t1::DataFlowTask)</code></pre><p>Determines if there is a data dependency between <code>t1</code> and <code>t2</code> based on the data they read from and write to.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dataflowtask.jl#L115-L120">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.enable_debug" href="#DataFlowTasks.enable_debug"><code>DataFlowTasks.enable_debug</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">enable_debug(mode = true)</code></pre><p>If <code>mode</code> is <code>true</code> (the default), enable debug mode: errors inside tasks will be shown.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/utils.jl#L31-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.enable_log" href="#DataFlowTasks.enable_log"><code>DataFlowTasks.enable_log</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">enable_log(mode = true)</code></pre><p>If <code>mode=true</code>, information regarding the <a href="#DataFlowTasks.DataFlowTask"><code>DataFlowTask</code></a>s will be logged in the current logger.</p><p><strong>See also: <a href="#DataFlowTasks.getlogger-Tuple{}"><code>getlogger</code></a>, <a href="#DataFlowTasks.setlogger!-Tuple{DataFlowTasks.Logger}"><code>setlogger!</code></a>, <a href="#DataFlowTasks.TaskLog"><code>TaskLog</code></a>.</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/utils.jl#L15-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.execute_dag-Tuple{DataFlowTasks.StaticScheduler}" href="#DataFlowTasks.execute_dag-Tuple{DataFlowTasks.StaticScheduler}"><code>DataFlowTasks.execute_dag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">execute_dag(sch::StaticScheduler)</code></pre><p>Execute all the nodes in the task graph, removing them from the <code>dag</code> as they are completed. This function waits for the dag to be emptied before returning.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/otherschedulers.jl#L87-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.finished_to_runnable-Tuple{Any, Any, Any}" href="#DataFlowTasks.finished_to_runnable-Tuple{Any, Any, Any}"><code>DataFlowTasks.finished_to_runnable</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">finished_to_runnable(dag,runnable,finished)</code></pre><p>Worker which takes nodes from <code>finished</code>, remove them from the <code>dag</code>, and <code>put!</code> new nodes in <code>runnable</code> if they become dependency-free.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/otherschedulers.jl#L136-L141">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.force_sequential" href="#DataFlowTasks.force_sequential"><code>DataFlowTasks.force_sequential</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">force_sequential(mode = true)</code></pre><p>If <code>mode</code> is <code>true</code>, enable sequential mode: no tasks are created and scheduled, code is simply run as it appears in the sources. In effect, this makes <code>@dspawn</code> a no-op.</p><p>By default, sequential mode is disabled when the program starts.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dataflowtask.jl#L158-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.getlogger-Tuple{}" href="#DataFlowTasks.getlogger-Tuple{}"><code>DataFlowTasks.getlogger</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getlogger()</code></pre><p>Return the global logger.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/logger.jl#L71-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.getscheduler-Tuple{}" href="#DataFlowTasks.getscheduler-Tuple{}"><code>DataFlowTasks.getscheduler</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getscheduler(sch)</code></pre><p>Return the active scheduler.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L87-L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.has_edge-Tuple{DataFlowTasks.DAG, Any, Any}" href="#DataFlowTasks.has_edge-Tuple{DataFlowTasks.DAG, Any, Any}"><code>DataFlowTasks.has_edge</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">has_edge(dag,i,j)</code></pre><p>Check if there is an edge connecting <code>i</code> to <code>j</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L214-L218">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.inneighbors-Tuple{DataFlowTasks.DAG, Any}" href="#DataFlowTasks.inneighbors-Tuple{DataFlowTasks.DAG, Any}"><code>DataFlowTasks.inneighbors</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">inneighbors(dag,i)</code></pre><p>List of predecessors of <code>i</code> in <code>dag</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L82-L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.isconnected-Tuple{DataFlowTasks.DAG, Any, Any}" href="#DataFlowTasks.isconnected-Tuple{DataFlowTasks.DAG, Any, Any}"><code>DataFlowTasks.isconnected</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isconnected(dag,i,j)</code></pre><p>Check if there is path in <code>dag</code> connecting <code>i</code> to <code>j</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L187-L191">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.loggertodot" href="#DataFlowTasks.loggertodot"><code>DataFlowTasks.loggertodot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">loggertodot(logger)  --&gt; dagstring</code></pre><p>Return a string in the <a href="https://en.wikipedia.org/wiki/DOT_(graph_description_language)">DOT</a> format representing the underlying graph in <code>logger</code> and to be plotted by GraphViz with Graph(logger<em>to</em>dot())</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/plotdag.jl#L25-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.memory_overlap-Tuple{Any, Any}" href="#DataFlowTasks.memory_overlap-Tuple{Any, Any}"><code>DataFlowTasks.memory_overlap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">memory_overlap(di,dj)</code></pre><p>Determine if data <code>di</code> and <code>dj</code> have overlapping memory in the sense that mutating <code>di</code> can change <code>dj</code> (or vice versa). This function is used to build the dependency graph between <a href="#DataFlowTasks.DataFlowTask"><code>DataFlowTask</code></a>s.</p><p>A generic version is implemented returning <code>true</code> (but printing a warning). Users should overload this function for the specific data types used in the arguments to allow for appropriate inference of data dependencies.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dataflowtask.jl#L140-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.memory_overlap-Tuple{Array, Array}" href="#DataFlowTasks.memory_overlap-Tuple{Array, Array}"><code>DataFlowTasks.memory_overlap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">memory_overlap(di::Array,dj::Array)
memory_overlap(di::SubArray,dj::Array)
memory_overlap(di::Array,dj::SubArray)</code></pre><p>When both <code>di</code> and <code>dj</code> are <code>Array</code>s of bitstype, compare their addresses. If one is of type <code>SubArray</code>, compare the parent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/arrayinterface.jl#L8-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.memory_overlap-Tuple{SubArray, SubArray}" href="#DataFlowTasks.memory_overlap-Tuple{SubArray, SubArray}"><code>DataFlowTasks.memory_overlap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">memory_overlap(di::SubArray,dj::SubArray)</code></pre><p>First compare their parents. If they are the same, compare the indices in the case where the <code>SubArray</code>s have the  same dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/arrayinterface.jl#L23-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.num_edges-Tuple{DataFlowTasks.DAG}" href="#DataFlowTasks.num_edges-Tuple{DataFlowTasks.DAG}"><code>DataFlowTasks.num_edges</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">num_edges(dag::DAG)</code></pre><p>Number of edges in the <code>DAG</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L69-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.num_nodes-Tuple{DataFlowTasks.DAG}" href="#DataFlowTasks.num_nodes-Tuple{DataFlowTasks.DAG}"><code>DataFlowTasks.num_nodes</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">num_nodes(dag::DAG)</code></pre><p>Number of nodes in the <code>DAG</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L60-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.outneighbors-Tuple{DataFlowTasks.DAG, Any}" href="#DataFlowTasks.outneighbors-Tuple{DataFlowTasks.DAG, Any}"><code>DataFlowTasks.outneighbors</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">outneighbors(dag,i)</code></pre><p>List of successors of <code>j</code> in <code>dag</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L89-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.plot" href="#DataFlowTasks.plot"><code>DataFlowTasks.plot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot(logger; categories)</code></pre><p>Plot DataFlowTasks <code>logger</code> labeled informations with categories.  </p><p>Entries in <code>categories</code> define how to group tasks in categories for plotting. Each entry can be:</p><ul><li>a <code>String</code>: in this case, all tasks having labels in which the string occurs are grouped together. The string is also used as a label for the category itself.</li><li>a <code>String =&gt; Regex</code> pair: in this case, all tasks having labels matching the regex are grouped together. The string is used as a label for the category itself.</li></ul><p><strong>Example</strong></p><pre><code class="language- hljs">using CairoMakie
using DataFlowTasks
using DataFlowTasks: plot, resetlogger!, sync

init!(A) = (A .= rand())                # Write
mutate!(A) = (A .= exp.(sum(A).^2).^2)  # Read/Write
get(A,B) = A+B                          # Read
function work(A, B)
    @dspawn init!(@W(A))      label=&quot;init A&quot;
    @dspawn init!(@W(B))      label=&quot;init B&quot;
    @dspawn mutate!(@RW(A))   label=&quot;mutate A&quot;
    @dspawn mutate!(@RW(B))   label=&quot;mutate B&quot;
    @dspawn get(@R(A), @R(B)) label=&quot;read A,B&quot;
    sync()
end

# Context
A = ones(2000, 2000)
B = ones(2000, 2000)

# Compilation
# run your code once to avoid seeing artifacts related to compilation in your logged data
work(copy(A), copy(B))

# Start &quot;real&quot; profiling work in a clean environment
# - reset the internal logger state to discard data collected during previous runs
# - start from a clean memory state. If garbage collection happens during the
#   run, we&#39;ll know it&#39;s triggered by the real workload and the visualization will
#   highlight its impact.
resetlogger!()
GC.gc()

# Real Work
work(A, B)

# Logger Visualization
plot(categories=[&quot;init&quot;, &quot;read&quot;, &quot;work on B&quot; =&gt; r&quot;B$&quot;])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/plotgeneral.jl#L311-L365">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.priority-Tuple{DataFlowTasks.DataFlowTask}" href="#DataFlowTasks.priority-Tuple{DataFlowTasks.DataFlowTask}"><code>DataFlowTasks.priority</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">priority(t::DataFlowTask)</code></pre><p>Function called to determine the scheduled priority of <code>t</code>. The default imlementation simply retuns <code>t.priority</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/otherschedulers.jl#L158-L163">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.remove_node!-Tuple{DataFlowTasks.DAG, Any}" href="#DataFlowTasks.remove_node!-Tuple{DataFlowTasks.DAG, Any}"><code>DataFlowTasks.remove_node!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">remove_node!(dag::DAG,i)</code></pre><p>Remove node <code>i</code> and all of its edges from <code>dag</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L221-L225">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.resetcounter!-Tuple{}" href="#DataFlowTasks.resetcounter!-Tuple{}"><code>DataFlowTasks.resetcounter!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">resetcounter!()</code></pre><p>Reset the <a href="#DataFlowTasks.TASKCOUNTER"><code>TASKCOUNTER</code></a> to <code>0</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dataflowtask.jl#L66-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.resetlogger!" href="#DataFlowTasks.resetlogger!"><code>DataFlowTasks.resetlogger!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">resetlogger(logger=getlogger())</code></pre><p>Clear the <code>logger</code>&#39;s memory, logging states, and reset environnement for new measures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/logger.jl#L80-L84">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.savedag-Tuple{String, GraphViz.Graph}" href="#DataFlowTasks.savedag-Tuple{String, GraphViz.Graph}"><code>DataFlowTasks.savedag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">savedag(filepath, graph)</code></pre><p>Save svg dag image in filepath</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/plotdag.jl#L14-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.setlogger!-Tuple{DataFlowTasks.Logger}" href="#DataFlowTasks.setlogger!-Tuple{DataFlowTasks.Logger}"><code>DataFlowTasks.setlogger!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setlogger!(l::Logger)</code></pre><p>Set the global (default) logger to <code>l</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/logger.jl#L62-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.setscheduler!-Tuple{Any}" href="#DataFlowTasks.setscheduler!-Tuple{Any}"><code>DataFlowTasks.setscheduler!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setscheduler!(r)</code></pre><p>Set the active scheduler to <code>r</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L80-L84">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.start_dag_worker" href="#DataFlowTasks.start_dag_worker"><code>DataFlowTasks.start_dag_worker</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">start_dag_worker(sch)</code></pre><p>Start a forever-running task associated with <code>sch</code> which takes nodes from <code>finished</code> and removes them from the <code>dag</code>. The task blocks if <code>finished</code> is empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L158-L164">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.sync" href="#DataFlowTasks.sync"><code>DataFlowTasks.sync</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sync([sch::TaskGraphScheduler])</code></pre><p>Wait for all nodes in <code>sch</code> to be finished before continuining. If called with no arguments, use  the current scheduler.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L114-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.update_edges!-Tuple{DataFlowTasks.DAG, Any}" href="#DataFlowTasks.update_edges!-Tuple{DataFlowTasks.DAG, Any}"><code>DataFlowTasks.update_edges!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update_edges!(dag::DAG,i)</code></pre><p>Perform the data-flow analysis to update the edges of node <code>i</code>. Both incoming and outgoing edges are updated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dag.jl#L152-L157">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.with_scheduler-Tuple{Any, Any}" href="#DataFlowTasks.with_scheduler-Tuple{Any, Any}"><code>DataFlowTasks.with_scheduler</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">with_scheduler(f,sch)</code></pre><p>Run <code>f</code>, but push <code>DataFlowTask</code>s to the scheduler <code>dag</code> in <code>sch</code> instead of the default <code>dag</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L94-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.@dasync-Tuple{Any, Vararg{Any}}" href="#DataFlowTasks.@dasync-Tuple{Any, Vararg{Any}}"><code>DataFlowTasks.@dasync</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@dasync expr [kwargs...]</code></pre><p>Like <a href="#DataFlowTasks.@dspawn-Tuple{Any, Vararg{Any}}"><code>@dspawn</code></a>, but schedules the task to run on the current thread.</p><p><strong>See also:</strong></p><p><a href="#DataFlowTasks.@dspawn-Tuple{Any, Vararg{Any}}"><code>@dspawn</code></a>, <a href="#DataFlowTasks.@dtask-Tuple{Any, Vararg{Any}}"><code>@dtask</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L304-L312">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.@dspawn-Tuple{Any, Vararg{Any}}" href="#DataFlowTasks.@dspawn-Tuple{Any, Vararg{Any}}"><code>DataFlowTasks.@dspawn</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@dspawn expr [kwargs...]</code></pre><p>Create a <a href="#DataFlowTasks.DataFlowTask"><code>DataFlowTask</code></a> to execute the code given by <code>expr</code>, and schedule it to run on any available thread. The code in <code>expr</code> should be annotated with <code>@R</code>, <code>@W</code> and/or <code>@RW</code> tags in order to indicate how it accesses data (see examples below). This information is is then used to automatically infer task dependencies.</p><p><strong>Supported keyword arguments:</strong></p><ul><li><code>label</code>: provide a label to identify the task. This is useful when logging scheduling information;</li><li><code>priority</code>: inform the scheduler about the relative priority of the task. This information is not (yet) leveraged by the default scheduler.</li></ul><p><strong>See also:</strong></p><p><a href="#DataFlowTasks.@dtask-Tuple{Any, Vararg{Any}}"><code>@dtask</code></a>, <a href="#DataFlowTasks.@dasync-Tuple{Any, Vararg{Any}}"><code>@dasync</code></a></p><p><strong>Examples:</strong></p><p>Below are 3 equivalent ways to create the same <code>DataFlowTask</code>, which expresses a Read-Write dependency on <code>C</code> and Read dependencies on <code>A</code> and <code>B</code></p><pre><code class="language-julia hljs">using LinearAlgebra
A = rand(10, 10)
B = rand(10, 10)
C = rand(10, 10)
α, β = (100.0, 10.0)

# Option 1: annotate arguments in a function call
@dspawn mul!(@RW(C), @R(A), @R(B), α, β)

# Option 2: specify data access modes in the code block
@dspawn begin
   @RW C
   @R  A B
   mul!(C, A, B, α, β)
end

# Option 3: specify data access modes after the code block
# (i.e. alongside keyword arguments)
@dspawn mul!(C, A, B, α, β) @RW(C) @R(A,B)</code></pre><p>Here is a more complete example, demonstrating a full computation involving 2 different tasks.</p><pre><code class="language-julia hljs">using DataFlowTasks

A = rand(5)

# create a task with WRITE access mode to A
# and label &quot;writer&quot;
t1 = @dspawn begin
    @W A
    sleep(1)
    fill!(A,0)
    println(&quot;finished writing&quot;)
end  label=&quot;writer&quot;

# create a task with READ access mode to A
t2 = @dspawn begin
    @R A
    println(&quot;I automatically wait for `t1` to finish&quot;)
    sum(A)
end  priority=1

fetch(t2) # 0

# output

finished writing
I automatically wait for `t1` to finish
0.0</code></pre><p>Note that in the example above <code>t2</code> waited for <code>t1</code> because it read a data field that <code>t1</code> accessed in a writable manner.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/scheduler.jl#L215-L295">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataFlowTasks.@dtask-Tuple{Any, Vararg{Any}}" href="#DataFlowTasks.@dtask-Tuple{Any, Vararg{Any}}"><code>DataFlowTasks.@dtask</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@dtask expr [kwargs...]</code></pre><p>Create a <code>DataFlowTask</code> to execute <code>expr</code>, where data have been tagged to specify how they are accessed. Note that the task is not automatically scheduled for execution.</p><p>See <a href="#DataFlowTasks.@dspawn-Tuple{Any, Vararg{Any}}"><code>@dspawn</code></a> for information on how to annotate <code>expr</code> to specify data dependencies, and a list of supported keyword arguments.</p><p><strong>See also:</strong></p><p><a href="#DataFlowTasks.@dspawn-Tuple{Any, Vararg{Any}}"><code>@dspawn</code></a>, <a href="#DataFlowTasks.@dasync-Tuple{Any, Vararg{Any}}"><code>@dasync</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maltezfaria/DataFlowTasks.jl/blob/4a80462319084d4e04ac1a168c31271201daff6d/src/dataflowtask.jl#L293-L306">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../issues/">« Common Issues</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Tuesday 6 September 2022 13:37">Tuesday 6 September 2022</span>. Using Julia version 1.8.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
